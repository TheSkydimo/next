(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{1600:function(e,n,t){Promise.resolve().then(t.bind(t,2307))},2307:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return u}});var i=t(7437),s=t(7648),r=t(9376);async function a(){try{let e=await fetch("/api/auth/logout",{method:"POST"});if(!e.ok)return!1;let n=await e.json().catch(()=>null);return(null==n?void 0:n.code)==="OK"}catch(e){return!1}}function u(e){let{children:n}=e,t=(0,r.usePathname)(),u=(0,r.useRouter)();if("/admin/login"===t||"/admin/forgot-password"===t)return(0,i.jsx)("main",{style:{maxWidth:480,margin:"40px auto",padding:"0 16px",fontFamily:"system-ui, -apple-system, BlinkMacSystemFont, sans-serif"},children:n});async function o(){if(!await a()){window.alert("退出失败，请稍后重试");return}u.push("/admin/login")}return(0,i.jsxs)("main",{style:{display:"flex",minHeight:"100vh",fontFamily:"system-ui, -apple-system, BlinkMacSystemFont, sans-serif"},children:[(0,i.jsxs)("aside",{style:{width:220,borderRight:"1px solid #e5e5e5",padding:"24px 16px"},children:[(0,i.jsx)("h1",{style:{fontSize:20,marginBottom:24},children:"管理后台"}),(0,i.jsxs)("nav",{style:{display:"flex",flexDirection:"column",gap:8,fontSize:14},children:[(0,i.jsx)(s.default,{href:"/admin/plans",children:"套餐管理"}),(0,i.jsx)(s.default,{href:"/admin/users",children:"普通用户管理"}),(0,i.jsx)(s.default,{href:"/admin/admins",children:"管理员管理"})]}),(0,i.jsx)("button",{type:"button",onClick:o,style:{marginTop:24,fontSize:14,color:"#d00",background:"none",border:"none",padding:0,cursor:"pointer",textAlign:"left"},children:"退出登录"})]}),(0,i.jsx)("section",{style:{flex:1,padding:"24px 24px"},children:n})]})}},7648:function(e,n,t){"use strict";t.d(n,{default:function(){return s.a}});var i=t(2972),s=t.n(i)},9376:function(e,n,t){"use strict";var i=t(5475);t.o(i,"usePathname")&&t.d(n,{usePathname:function(){return i.usePathname}}),t.o(i,"useRouter")&&t.d(n,{useRouter:function(){return i.useRouter}}),t.o(i,"useSearchParams")&&t.d(n,{useSearchParams:function(){return i.useSearchParams}})}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=1600)}),_N_E=e.O()}]);