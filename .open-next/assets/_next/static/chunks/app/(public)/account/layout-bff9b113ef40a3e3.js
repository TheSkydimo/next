(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[796],{7249:function(e,t,n){Promise.resolve().then(n.bind(n,9237))},9237:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(7437),s=n(2265),r=n(7648),a=n(9376);function u(e){let{children:t}=e,n=(0,a.useRouter)(),[u,l]=(0,s.useState)(!1),[o,c]=(0,s.useState)(null);async function d(){try{c(null),l(!0);let t=await fetch("/api/auth/logout",{method:"POST",headers:{"Content-Type":"application/json"}});if(!t.ok){var e;let n=await t.json().catch(()=>({}));c(null!==(e=n.message)&&void 0!==e?e:"退出登录失败，请稍后重试");return}n.push("/login")}catch(e){c("网络错误，退出登录失败")}finally{l(!1)}}return(0,i.jsxs)("main",{style:{maxWidth:1e3,margin:"40px auto",padding:"0 16px",display:"flex",gap:24,alignItems:"flex-start"},children:[(0,i.jsxs)("aside",{style:{width:200,flexShrink:0,borderRight:"1px solid #eee",paddingRight:16},children:[(0,i.jsx)("h2",{style:{fontSize:18,marginBottom:16},children:"账户中心"}),(0,i.jsxs)("nav",{style:{display:"grid",gap:8,fontSize:14},children:[(0,i.jsx)(r.default,{href:"/account",children:"首页"}),(0,i.jsx)(r.default,{href:"/account/profile",children:"基本信息"}),(0,i.jsx)(r.default,{href:"/account/subscription",children:"订阅信息"}),(0,i.jsx)(r.default,{href:"/account/orders",children:"订单信息"})]})]}),(0,i.jsxs)("section",{style:{flex:1,minWidth:0},children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[(0,i.jsx)("div",{}),(0,i.jsxs)("div",{style:{textAlign:"right"},children:[o&&(0,i.jsx)("p",{style:{color:"red",fontSize:12,margin:0,marginBottom:4},children:o}),(0,i.jsx)("button",{type:"button",onClick:d,disabled:u,children:u?"退出中...":"退出登录"})]})]}),(0,i.jsx)("div",{children:t})]})]})}},7648:function(e,t,n){"use strict";n.d(t,{default:function(){return s.a}});var i=n(2972),s=n.n(i)},9376:function(e,t,n){"use strict";var i=n(5475);n.o(i,"usePathname")&&n.d(t,{usePathname:function(){return i.usePathname}}),n.o(i,"useRouter")&&n.d(t,{useRouter:function(){return i.useRouter}}),n.o(i,"useSearchParams")&&n.d(t,{useSearchParams:function(){return i.useSearchParams}})}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=7249)}),_N_E=e.O()}]);